<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<body style="margin:0;padding:0;background:#f5f7fa;">
<!-- Preheader ẩn (hiển thị dải ngày áp dụng) -->
<div style="display:none;max-height:0;overflow:hidden;opacity:0;color:transparent;">
    Ưu đãi dành riêng cho bạn từ Shoozy Shop –
    <span th:text="${startDate}">...</span> - <span th:text="${endDate}">...</span>.
</div>

<table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="background:#f5f7fa;">
    <tr>
        <td align="center" style="padding:24px;">
            <table role="presentation" width="600" cellpadding="0" cellspacing="0"
                   style="background:#ffffff;border-radius:12px;overflow:hidden;font-family:Arial,Helvetica,sans-serif;color:#1f2937;">

                <!-- Header -->
                <tr>
                    <td align="center" style="padding:28px 24px 12px;">
                        <h1 style="margin:0;font-size:28px;line-height:36px;color:#10b981;">Cảm ơn!</h1>
                        <p style="margin:8px 0 0;color:#6b7280;">
                            Shoozy Shop gửi tặng quý khách phiếu giảm giá cho lần mua sắm tiếp theo.
                        </p>
                    </td>
                </tr>

                <!-- Banner ưu đãi -->
                <tr>
                    <td align="center" style="padding:0 24px 16px;">
                        <div style="background:#10b981;color:#ffffff;border-radius:8px;padding:12px 16px;font-weight:700;">
                            Tặng quý khách ưu đãi giảm
                            <!-- Nếu là % -->
                            <span th:if="${typeCoupon}"
                                  th:text="${#numbers.formatDecimal(valueCoupon, 0, 'POINT', 0, 'NONE')} + '%'">%</span>

                            <!-- Thêm ' (tối đa ...)' khi có valueLimit -->
                            <span th:if="${typeCoupon} and valueLimit != null"
                                  th:text="| (tối đa ${#numbers.formatCurrency(valueLimit)})|"></span>

                            <!-- Nếu là số tiền -->
                            <span th:unless="${typeCoupon}"
                                  th:text="${#numbers.formatCurrency(valueCoupon)}">0 ₫</span>
                        </div>


                    </td>
                </tr>

                <!-- Thân -->
                <tr>
                    <td style="padding:0 24px 8px;">
                        <table role="presentation" width="100%" cellpadding="0" cellspacing="0"
                               style="background:#fffaf0;border:1px solid #f3f4f6;border-radius:10px;">
                            <tr>
                                <td style="padding:16px 18px;">
                                    <p style="margin:0 0 8px;font-size:14px;">
                                        <b>Mã phiếu:</b>
                                        <span style="font-family:monospace;background:#ecfdf5;color:#047857;padding:2px 6px;border-radius:6px;"
                                              th:text="${codeCoupon}">PGG_XXXX</span>
                                    </p>

                                    <p style="margin:0 0 8px;font-size:14px;">
                                        <b>Thời gian áp dụng:</b>
                                        <span th:text="${startDate}">...</span> – <span th:text="${endDate}">...</span>
                                    </p>

                                    <p style="margin:0 0 8px;font-size:14px;" th:if="${condition != null and condition != ''}">
                                        <b>Điều kiện áp dụng:</b>
                                        <span th:text="${condition}">...</span>
                                    </p>

                                    <p style="margin:10px 0 0;font-size:13px;color:#6b7280;line-height:1.6;">
                                        <b>Lưu ý:</b>
                                        Mã dùng 1 lần theo email/SDT đăng ký; giảm trực tiếp; không quy đổi tiền mặt.
                                    </p>
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- CTA (ẩn nếu thiếu URL) -->
                <tr th:if="${homeUrl != null and #strings.isNotEmpty(homeUrl)}">
                    <td align="center" style="padding:20px 24px 28px;">
                        <a th:href="${homeUrl}"
                           style="display:inline-block;background:#10b981;color:#ffffff;text-decoration:none;
                          padding:12px 22px;border-radius:10px;font-weight:700;">MUA SẮM NGAY</a>
                    </td>
                </tr>

                <!-- Footer -->
                <tr>
                    <td align="center" style="padding:0 24px 24px;">
                        <p style="margin:0;font-size:12px;color:#9ca3af;">
                            © <span th:text="${year}">2025</span> Shoozy Shop
                        </p>
                    </td>
                </tr>

            </table>
        </td>
    </tr>
</table>
</body>
</html>
